<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>使用表单和模板:tornado模板self.render和模板变量传递 | 声明</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="./312.html" />
    
    
    <link rel="prev" href="./309.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">


        
    <div class="book"  data-level="3.10" data-basepath="." data-revision="1422242220225">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         第零部分 独上高楼，望尽天涯路
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="0.1" data-path="001.html">
            
                
                    <a href="./001.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.1.</b>
                        
                         唠叨一些关于python的事情
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="0.2" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>0.2.</b>
                        
                         开始本栏目的原因
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="blank.html">
            
                
                    <a href="./blank.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         第一部分 积小流，至江海
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="101.html">
            
                
                    <a href="./101.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         Python环境安装
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="102.html">
            
                
                    <a href="./102.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         集成开发环境（IDE）
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.3" data-path="103.html">
            
                
                    <a href="./103.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                         数的类型和四则运算
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.4" data-path="104.html">
            
                
                    <a href="./104.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                         啰嗦的除法
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.5" data-path="105.html">
            
                
                    <a href="./105.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                         开始真正编程
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.6" data-path="106.html">
            
                
                    <a href="./106.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                         初识永远强大的函数
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.7" data-path="107.html">
            
                
                    <a href="./107.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                         玩转字符串(1)：基本概念、字符转义、字符串连接、变量与字符串关系
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.8" data-path="108.html">
            
                
                    <a href="./108.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.8.</b>
                        
                         玩转字符串(2)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.9" data-path="109.html">
            
                
                    <a href="./109.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.9.</b>
                        
                         玩转字符串(3)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.10" data-path="110.html">
            
                
                    <a href="./110.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.10.</b>
                        
                         眼花缭乱的运算符
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.11" data-path="111.html">
            
                
                    <a href="./111.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.11.</b>
                        
                         从if开始语句的征程
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.12" data-path="112.html">
            
                
                    <a href="./112.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.12.</b>
                        
                         一个免费的实验室
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.13" data-path="113.html">
            
                
                    <a href="./113.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.13.</b>
                        
                         有容乃大的list(1)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.14" data-path="114.html">
            
                
                    <a href="./114.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.14.</b>
                        
                         有容乃大的list(2)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.15" data-path="115.html">
            
                
                    <a href="./115.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.15.</b>
                        
                         有容乃大的list(3)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.16" data-path="116.html">
            
                
                    <a href="./116.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.16.</b>
                        
                         有容乃大的list(4)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.17" data-path="117.html">
            
                
                    <a href="./117.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.17.</b>
                        
                         list和str比较
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.18" data-path="118.html">
            
                
                    <a href="./118.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.18.</b>
                        
                         画圈还不简单吗
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.19" data-path="119.html">
            
                
                    <a href="./119.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.19.</b>
                        
                         再深点，更懂list
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.20" data-path="120.html">
            
                
                    <a href="./120.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.20.</b>
                        
                         字典，你还记得吗？
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.21" data-path="121.html">
            
                
                    <a href="./121.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.21.</b>
                        
                         字典的操作方法
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.22" data-path="122.html">
            
                
                    <a href="./122.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.22.</b>
                        
                         有点简约的元组
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.23" data-path="123.html">
            
                
                    <a href="./123.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.23.</b>
                        
                         一二三,集合了
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.24" data-path="124.html">
            
                
                    <a href="./124.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.24.</b>
                        
                         集合的关系
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.25" data-path="125.html">
            
                
                    <a href="./125.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.25.</b>
                        
                         Python数据类型总结
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.26" data-path="126.html">
            
                
                    <a href="./126.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.26.</b>
                        
                         深入变量和引用对象
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.27" data-path="127.html">
            
                
                    <a href="./127.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.27.</b>
                        
                         赋值，简单也不简单
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.28" data-path="128.html">
            
                
                    <a href="./128.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.28.</b>
                        
                         坑爹的字符编码
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.29" data-path="129.html">
            
                
                    <a href="./129.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.29.</b>
                        
                         做一个小游戏
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.30" data-path="130.html">
            
                
                    <a href="./130.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.30.</b>
                        
                         不要红头文件(1): open, write, close
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.31" data-path="131.html">
            
                
                    <a href="./131.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.31.</b>
                        
                         不要红头文件(2): os.stat, closed, mode, read, readlines, readline
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="blank.html">
            
                
                    <a href="./blank.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         第二部分 穷千里目，上一层楼
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="201.html">
            
                
                    <a href="./201.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         正规地说一句话
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="202.html">
            
                
                    <a href="./202.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         print能干的事情
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="203.html">
            
                
                    <a href="./203.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         从格式化表达式到方法
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.4" data-path="204.html">
            
                
                    <a href="./204.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                         复习if语句
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.5" data-path="205.html">
            
                
                    <a href="./205.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                         用while来循环
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.6" data-path="206.html">
            
                
                    <a href="./206.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                         难以想象的for
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.7" data-path="207.html">
            
                
                    <a href="./207.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                         关于循环的小伎俩
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.8" data-path="208.html">
            
                
                    <a href="./208.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                         让人欢喜让人忧的迭代
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.9" data-path="209.html">
            
                
                    <a href="./209.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.</b>
                        
                         大话题小函数(1)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.10" data-path="210.html">
            
                
                    <a href="./210.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.</b>
                        
                         大话题小函数(2)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.11" data-path="211.html">
            
                
                    <a href="./211.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.11.</b>
                        
                         python文档
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.12" data-path="212.html">
            
                
                    <a href="./212.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.12.</b>
                        
                         重回函数
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.13" data-path="213.html">
            
                
                    <a href="./213.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.13.</b>
                        
                         变量和参数
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.14" data-path="214.html">
            
                
                    <a href="./214.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.14.</b>
                        
                         总结参数的传递
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.15" data-path="215.html">
            
                
                    <a href="./215.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.15.</b>
                        
                         传说中的函数条规
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.16" data-path="216.html">
            
                
                    <a href="./216.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.16.</b>
                        
                         关于类的基本认识
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.17" data-path="217.html">
            
                
                    <a href="./217.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.17.</b>
                        
                         编写类之一创建实例
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.18" data-path="218.html">
            
                
                    <a href="./218.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.18.</b>
                        
                         编写类之二方法
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.19" data-path="219.html">
            
                
                    <a href="./219.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.19.</b>
                        
                         编写类之三子类
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.20" data-path="220.html">
            
                
                    <a href="./220.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.20.</b>
                        
                         编写类之四再论继承
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.21" data-path="221.html">
            
                
                    <a href="./221.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.21.</b>
                        
                         命名空间
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.22" data-path="222.html">
            
                
                    <a href="./222.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.22.</b>
                        
                         类的细节
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.23" data-path="223.html">
            
                
                    <a href="./223.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.23.</b>
                        
                         Import 模块
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.24" data-path="224.html">
            
                
                    <a href="./224.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.24.</b>
                        
                         模块的加载
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.25" data-path="225.html">
            
                
                    <a href="./225.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.25.</b>
                        
                         私有和专有
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.26" data-path="226.html">
            
                
                    <a href="./226.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.26.</b>
                        
                         折腾一下目录: os.path.&lt;attribute&gt;
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="blank.html">
            
                
                    <a href="./blank.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         第三部分 昨夜西风，亭台谁登
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="301.html">
            
                
                    <a href="./301.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         网站的结构：网站组成、MySQL数据库的安装和配置、MySQL的运行
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="302.html">
            
                
                    <a href="./302.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         通过Python连接数据库：安装python-MySQLdb，连接MySQL
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="303.html">
            
                
                    <a href="./303.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         用Pyton操作数据库(1)：建立连接和游标，并insert and commit
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="304.html">
            
                
                    <a href="./304.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         用Python操作数据库（2）
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="305.html">
            
                
                    <a href="./305.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         用Python操作数据库（3）
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.6" data-path="306.html">
            
                
                    <a href="./306.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                         python开发框架：框架介绍、Tornado安装
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.7" data-path="307.html">
            
                
                    <a href="./307.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                         Hello,第一个网页分析：tornado网站的基本结构剖析：improt模块、RequestHandler, HTTPServer, Application, IOLoop
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.8" data-path="308.html">
            
                
                    <a href="./308.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                         实例分析get和post：get()通过URL得到数据和post()通过get_argument()获取数据
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.9" data-path="309.html">
            
                
                    <a href="./309.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.9.</b>
                        
                         问候世界：利用GAE建立tornado框架网站
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="3.10" data-path="311.html">
            
                
                    <a href="./311.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.10.</b>
                        
                         使用表单和模板:tornado模板self.render和模板变量传递
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.11" data-path="312.html">
            
                
                    <a href="./312.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.11.</b>
                        
                         模板中的语法：tornado模板中的for,if,set等语法，以{%开始，%}语句{%end%}
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.12" data-path="313.html">
            
                
                    <a href="./313.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.12.</b>
                        
                         静态文件以及一个项目框架
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.13" data-path="314.html">
            
                
                    <a href="./314.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.13.</b>
                        
                         模板转义
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="blank.html">
            
                
                    <a href="./blank.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         第四部分 暮然回首，灯火阑珊处
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="401.html">
            
                
                    <a href="./401.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         requests库
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="402.html">
            
                
                    <a href="./402.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         比较json/dictionary的库
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.3" data-path="403.html">
            
                
                    <a href="./403.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                         defaultdict 模块和 namedtuple 模块
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="blank.html">
            
                
                    <a href="./blank.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         第五部分 Python备忘录
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="501.html">
            
                
                    <a href="./501.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         基本的（字面量）值
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.2" data-path="502.html">
            
                
                    <a href="./502.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                         运算符
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.3" data-path="503.html">
            
                
                    <a href="./503.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                         常用的内建函数
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="blank.html">
            
                
                    <a href="./blank.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         扩展阅读(来自网络文章)
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1" data-path="reading/01.html">
            
                
                    <a href="./reading/01.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                         人生苦短，我用Python
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >声明</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_76">
                    
                        <blockquote>
<p>But when he heard this, he said:&quot;Those who are well have no need of a physician, but those who are sick. Go and learn what this means,&#39;Idesire mercy, not sacrifice&#39; For I have come to call not the righteous but sinners.&quot;(MATTHEW 9:12)</p>
</blockquote>
<h1 id="">使用表单和模板</h1>
<p>如果像前面那么做网站，也太丑陋了。并且功能也不多。</p>
<p>在实际做网站中，现在都要使用一个模板，并且在用户直接看到的页面，用html语言来写页面（关于HTML，本教程默认为看官已经熟悉，如果不熟悉，可以到找有关教程来学习）。</p>
<p>在做网站的行业里面，常常将HTML+CSS+JS组成的网页，称作“前端”。它主要负责展示，或者让用户填写一些表格，通过JS提交给用python写的程序，让python程序来处理数据，那些处理数据的python程序称之为“后端”。我常常提醒做“后端”的，不要轻视“前端”。如果看官立志成为全栈工程师，就要从前到后都通。</p>
<p>在本讲中，为了突出模板和后端程序，我略去CSS+JS，虽然这样一来界面难看，而且用户的友好度也不怎么样（JS，javascript是使网页变得更友好的重要工具，如不用更换地址就能刷新页面等等，特别提醒看官，一定要学好javascript，虽然这个可能没有几个大学教的。请看维基百科对javascript简介：）。</p>
<blockquote>
<p>JavaScript，一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，最早是在HTML网页上使用，用来给HTML网页增加动态功能。然而现在JavaScript也可被用于网络服务器，如Node.js。</p>
<p>在1995年时，由网景公司的布兰登·艾克，在网景导航者浏览器上首次设计实作而成。因为网景公司与升阳公司合作，网景公司管理层次结构希望它外观看起来像Java，因此取名为JavaScript。但实际上它的语法风格与Self及Scheme较为接近。</p>
<p>为了取得技术优势，微软推出了JScript，CEnvi推出ScriptEase，与JavaScript同样可在浏览器上运行。为了统一规格，1997年，在ECMA（欧洲计算机制造商协会）的协调下，由Netscape、Sun、微软、Borland组成的工作组确定统一标准：ECMA-262。因为JavaScript兼容于ECMA标准，因此也称为ECMAScript。</p>
</blockquote>
<p>上面这段引文里面提到了一个非常著名的公司：网景，可能年青一代都忘却了。也建议有兴趣的看官到维基百科中了解这个传奇公司，它曾经有一个传奇产品，虽然名字不复存在，但是Firefox是秉承它衣钵的。</p>
<p>话题再转回来，还是关于本讲，主要是要演示一个用模板（HTML）写一个表单，然后提交给后端的python程序，再转到另外一个显示的前端页面显示。为了简化流程，这个过程中没有数据处理和CSS+Javascript的工作，所有界面会丑陋。但是，“我很丑，可是我很温柔”。</p>
<h2 id="">一个表单</h2>
<p>要做一个前端的页面，显示的内容就如同下图样式</p>
<p><img src="https://raw.githubusercontent.com/qiwsir/ITArticles/master/Pictures/31101.png" alt=""></p>
<p>相应代码是，并命名为index.html，存在一个名称是template的目录中。</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;sign in your name&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h2&gt;Please sing in.&lt;/h2&gt;
        &lt;form method=&quot;post&quot; action=&quot;/user&quot;&gt;
            &lt;p&gt;Name:&lt;br&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/p&gt;
            &lt;p&gt;Email:&lt;br&gt;&lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;&lt;/p&gt;
            &lt;p&gt;Website:&lt;br&gt;&lt;input type=&quot;text&quot; name=&quot;website&quot;&gt;&lt;/p&gt;
            &lt;p&gt;Language:&lt;br&gt;&lt;input type=&quot;text&quot; name=&quot;language&quot;&gt;&lt;/p&gt;
            &lt;input type=&quot;submit&quot; value=&quot;ok,submit my information&quot;&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>上面的代码是比较简单，如果看官熟悉html的话，不熟悉也不要紧，网上搜索就能理解。注意，没有CSS+JS，所以简单。如果在真正开发中，这两个是不能少的。</p>
<p>有了这个表单之后，如果用户把相关信息都填写好了。点击下面的按钮，就应该提交给后端的python程序来处理。</p>
<h2 id="">后端处理程序</h2>
<p>做为tornado驱动的网站，首先要能够把前面的index.html显示出来，这个一般用get方法，显示的样式就按照上面的样子显示。</p>
<p>用户填写信息之后，点击按钮提交。注意观察上面的代码表单中，设定了<code>post</code>方法，所以，在python程序中，应该有一个post方法专门来接收所提交的数据，然后把提交的数据在另外一个网页显示出来。</p>
<p>在表单中还要注意，有一个<code>action=/user</code>，表示的是要将表单的内容提交给<code>/user</code>路径所对应的程序来处理。这里需要说明的是，在网站中，数据提交和显示，路径是非常重要的。</p>
<p>按照以上意图，编写如下代码，并命名为usercontroller.py，保存在template目录中</p>
<pre><code>#!/usr/bin/env python
#coding:utf-8

import os.path

import tornado.httpserver
import tornado.ioloop
import tornado.options
import tornado.web

from tornado.options import define, options
define(&quot;port&quot;, default=8000, help=&quot;run on the given port&quot;, type=int)

class IndexHandler(tornado.web.RequestHandler):
    def get(self):
        self.render(&quot;index.html&quot;)

class UserHandler(tornado.web.RequestHandler):
    def post(self):
        user_name = self.get_argument(&quot;username&quot;)
        user_email = self.get_argument(&quot;email&quot;)
        user_website = self.get_argument(&quot;website&quot;)
        user_language = self.get_argument(&quot;language&quot;)
        self.render(&quot;user.html&quot;,username=user_name,email=user_email,website=user_website,language=user_language)

handlers = [
    (r&quot;/&quot;, IndexHandler),
    (r&quot;/user&quot;, UserHandler)
]

template_path = os.path.join(os.path.dirname(__file__),&quot;template&quot;)

if __name__ == &quot;__main__&quot;:
    tornado.options.parse_command_line()
    app = tornado.web.Application(handlers, template_path)
    http_server = tornado.httpserver.HTTPServer(app)
    http_server.listen(options.port)
    tornado.ioloop.IOLoop.instance().start()
</code></pre><p>这次代码量多一些。但是多数在前面讲述tornado基本结构的时候已经说过了，跟前面一样，这里仅仅把重点的和新出现的进行讲述，如果看官对某些内容还有疑问，可以参考前面的相关章节。</p>
<p>在引入的模块上，多了一个<code>import os.path</code>，这个模块主要用在：</p>
<pre><code>template_path = os.path.join(os.path.dirname(__file),&quot;template&quot;)
</code></pre><p>这是要获取存放程序的目录<code>template</code>的路径。</p>
<p>重点看两个类中都有的<code>self.render()</code>，用这个方法引入相应的模板。</p>
<pre><code>self.render(&quot;index.html&quot;)
</code></pre><p>显示index.html模板，但是此时并没有向模板网页传递任何数据，仅仅显示罢了。下面一个：</p>
<pre><code>self.render(&quot;user.html&quot;,username=user_name,email=user_email,website=user_website,language=user_language)
</code></pre><p>与前面的不同在于，不仅仅是要引用模板网页user.html，还要向这个网页传递一些数据，例如username=user_name，含义就是，在模板中，某个地方是用username来标示得到的数据，而user_name是此方法中的一个变量，也就是对应一个数据，那么模板中的username也就对应了user_name的数据，这是通过username=user_name完成的（说的有点像外语了）。后面的变量同理。</p>
<p>那么，user_name的数据是哪里来的呢？就是在index.html页面的表单中提交上来的。注意观察路径的设置，<code>r&quot;/user&quot;, UserHandler</code>，也就是在form中的<code>action=&#39;/user&#39;</code>，就是要将数据提交给UserHandler处理，并且是通过post方法。所以，在UserHandler类中，有post()方法来处理这个问题。通过self.get_argument()来接收前端提交过来的数据，接收方法就是，self.get_argument()的参数与index.html表单form中的各项的name值相同，就会得到相应的数据。例如<code>user_name = self.get_argument(&quot;username&quot;)</code>，就能够得到index.html表单中name为&quot;username&quot;的元素的值，并赋给user_name变量。</p>
<p>还差一个网页。</p>
<h2 id="">显示结果</h2>
<p>在上面的代码中，又多了一个模板：<code>index.html</code>，对这个模板，跟前面那个模板有一点儿不一样的地方，就是要引入一些变量。它的代码是这样的：</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;sign in your name&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h2&gt;Your Information&lt;/h2&gt;
        &lt;p&gt;Your name is {{username}}&lt;/p&gt;
        &lt;p&gt;Your email is {{email}}&lt;/p&gt;
        &lt;p&gt;Your website is {{website}}, it is very good. This website is make by {{language}}&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>请将上面的代码和这句话对照：</p>
<pre><code>self.render(&quot;user.html&quot;,username=user_name,email=user_email,website=user_website,language=user_language)
</code></pre><p>上面的模板代码存储为名为<code>user.html</code>的文件，并且和前面已经保存的在同一个目录中。</p>
<p>看HTML模板代码中，有类似<code>{{username}}</code>的变量，模板中用<code>{{}}</code>引入变量，这个变量就是在<code>self.render()</code>中规定的，两者变量名称一致，对应将相应的值对象引入到模板中。</p>
<h2 id="">运行结果</h2>
<p>进入到template目录，执行：</p>
<pre><code>qw@qw-Latitude-E4300:~/template$ python userscontroller.py
</code></pre><p>然后在浏览器的地址栏中输入</p>
<pre><code>http://localhost:8000
</code></pre><p>出现如下图的表单，并填写表单内容</p>
<p><img src="https://raw.githubusercontent.com/qiwsir/ITArticles/master/Pictures/31102.png" alt=""></p>
<p>点击“按钮”之后：</p>
<p><img src="https://raw.githubusercontent.com/qiwsir/ITArticles/master/Pictures/31103.png" alt=""></p>
<p>这样就实现了一个简单表单提交的网站。</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./309.html" class="navigation navigation-prev " aria-label="Previous page: 问候世界：利用GAE建立tornado框架网站"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./312.html" class="navigation navigation-next " aria-label="Next page: 模板中的语法：tornado模板中的for,if,set等语法，以{%开始，%}语句{%end%}"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
